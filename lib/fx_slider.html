<!-- import polymer-element's definition -->
<link rel="import" href="../../packages/polymer/polymer.html">

<polymer-element name="fx-slider">
  <template>
    <style>
      :host {
        display: block;
        margin: 10px 0 10px 0;
      }
      
      #main-div {
        position:relative;
      }
      
      #slider-track {
        width:100%;   
        height:10px;
        border-radius: 5px;
        background-color: #ccc; 
        -webkit-box-shadow: inset 0px 1px 4px 0px rgba(50, 50, 50, 0.75);
        -moz-box-shadow:    inset 0px 1px 4px 0px rgba(50, 50, 50, 0.75);
        box-shadow:         inset 0px 1px 4px 0px rgba(50, 50, 50, 0.75);  
      }
      
      #slider-fill {
        box-sizing: border-box;
        margin-left: 0;
        width: 0;
        height: 10px;
        border-radius:5px;
        background-color: #009fb2;
        
        -webkit-box-shadow: inset 0px -1px 6px 0px rgba(50, 50, 50, 0.75);
        -moz-box-shadow:    inset 0px -1px 6px 0px rgba(50, 50, 50, 0.75);
        box-shadow:         inset 0px -1px 6px 0px rgba(50, 50, 50, 0.75);
      }
      
      #slider-thumb-0,#slider-thumb-1 {
        position:absolute;
        top: 5px;
        left: 0;
      }
      
      #slider-thumb-graphic {
        position:absolute;
        top:-10px;
        left:-10px;
      }
      
      #slider-datatip-0,#slider-datatip-1 {
        position:absolute;
        display:inline-block;
        pointer-events:none;
        text-align:center;
        width:200px;
        left:-100px;
        height:40px;
        top: -50px;
        opacity:0;
        transition: all 0.2s ease-in-out;
      }
      
      .slider-datatip-text {
        display:inline-block;
        position:relative;
        width:auto;
        box-sizing:border-box;
        padding:5px;
        border-radius:5px;
        background-color: #ddd;
        text-align:center;
        color:#000;
        font-size: 10pt;
        height:30px;
        
        -webkit-box-shadow: 1px 1px 3px 0px rgba(50, 50, 50, 0.75);
        -moz-box-shadow:    1px 1px 3px 0px rgba(50, 50, 50, 0.75);
        box-shadow:         1px 1px 3px 0px rgba(50, 50, 50, 0.75);
      }
      
      .slider-datatip-text .bubble-arrow {
        display:inline-block;
        position:absolute;
        background: transparent url("icon/bubble_arrow_bottom.png") no-repeat center bottom;
        left:0;
        right:0;
        top:30px;
        height:10px;
      }
      
      #circle-0,#circle-1 {
        display:inline-block;
        background-color: white;
        border-radius:10px;
        width:20px;
        height:20px;
        -webkit-box-shadow: 0px 0px 5px 0px rgba(50, 50, 50, 0.75);
        -moz-box-shadow:    0px 0px 5px 0px rgba(50, 50, 50, 0.75);
        box-shadow:         0px 0px 5px 0px rgba(50, 50, 50, 0.75);
      }
      
      #debug {
        margin-top: 20px;
      }
      
    </style>
    <div id="main-div" on-trackstart="{{trackStartHandler}}"
        on-trackend="{{trackEndHandler}}" on-track="{{trackHandler}}">
      <div id="slider-track" on-click="{{trackClickHandler}}">
        <div id="slider-fill"></div>
      </div>
      <div id="slider-thumb-0" hidden?="{{!doubleThumb}}">
        <div id="slider-thumb-graphic">
          <div id="circle-0">
          </div>
        </div>
        <div id="slider-datatip-0">
          <div class="slider-datatip-text">
            {{datatipValue[0]}}
            <div class="bubble-arrow"></div>
          </div>
        </div>
      </div>
      <div id="slider-thumb-1">
        <div id="slider-thumb-graphic">
          <div id="circle-1">
          </div>
        </div>
        <div id="slider-datatip-1">
          <div class="slider-datatip-text">
            {{datatipValue[1]}}
            <div class="bubble-arrow"></div>
          </div>
        </div>
      </div>
    </div>
  </template>
  <script type="application/dart" src="fx_slider.dart"></script>
</polymer-element>
