<!-- import polymer-element's definition -->
<link rel="import" href="../../packages/polymer/polymer.html">
<link rel="import" href="../../packages/core_elements/core_style.html">
<link rel="import" href="../../packages/flex_components/fx_item_renderer.html">
<link rel="import" href="../../packages/flex_components/fx_list.html">
<link rel="import" href="../../packages/flex_components/fx_dropdown_list_theme.html">

<polymer-element name="fx-dropdown-list">
  <template>
    <style>
      :host {
        display: inline-block;
        position: relative;
        min-width:100px;
        vertical-align:top;
      }
    </style>
    <core-style ref="fxDropdownListTheme"></core-style>
    
    <button id="placeholder" on-click="{{toggleDeployed}}"
        on-focus="{{focusHandler}}" on-blur="{{blurHandler}}"
        class="{{ {focused:focused } }}">
      <template if="{{selectedItem == null}}">
        {{prompt}}
      </template>
      <template if="{{selectedItem != null}}">
        <template if="{{itemRenderer == null}}">
          {{render(selectedItem)}}
        </template>
        <template if="{{itemRenderer != null}}">
          <fx-item-renderer tag="{{itemRenderer}}" data="{{selectedItem}}"></fx-item-renderer>
        </template>
      </template>
    </button>
    <fx-list id="fxlst" 
        focusEnabled="false"
        focused="{{focused}}"
        dataProvider="{{dataProvider}}"
        selectedItem="{{selectedItem}}"
        itemRenderer="{{itemRenderer}}"
        labelField="{{labelField}}" 
        listHeight="{{listHeight}}"
        on-selection-change="{{onSelectionChangeHandler}}" ></fx-list>
  </template>
  <script type="application/dart" src="fx_dropdown_list.dart"></script>
</polymer-element>
